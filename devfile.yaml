schemaVersion: 2.1.0
metadata:
  name: test
  namespace: admin-che
projects:  
  - git:
      remotes:
        origin: 'https://github.com/Bolodya1997/project-test.git'
    name: project-test
components:
  - name: editor-selector
    container:
      image: ubuntu:latest
      command:
        - bash
        - '-c'
        - |
          mkdir -p ${PROJECT_SOURCE}/.che ;
          echo "---
          id: che-incubator/che-idea/latest
          override:
            containers:
              name: che-idea-runtime-description
              env:
                - name: PROJECTOR_ASSEMBLY_DIR
                  value: /projector
                - name: PROJECTOR_CONFIG_DIR
                  value: /home/user/.jetbrains
                - name: TEST_ENV
                  value: test - value
          " > ${PROJECT_SOURCE}/.che/che-editor.yaml
      mountSources: true
commands:
  - id: editor-selector-command
    apply:
      component: editor-selector
events:
  preStart:
    - editor-selector-command
